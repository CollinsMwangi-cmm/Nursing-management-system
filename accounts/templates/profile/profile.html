{% extends 'base.html' %}
{% block content %}
<div class='profile-main-content energy-matte'>
    <h1 class="profile-title">User Profile</h1>
    <h3 class="profile-subtitle">Your Information</h3>
    <div class="profile-user-data">
        <p class="profile-info"><strong>Username:</strong> <span class="break-word">{{ user.username }}</span></p>
        <p class="profile-info"><strong>Email:</strong> <span class="break-word">{{ user.email }}</span></p>
        <p class="profile-info"><strong>First Name:</strong> <span class="break-word">{{ user.first_name }}</span></p>
        <p class="profile-info"><strong>Last Name:</strong> <span class="break-word">{{ user.last_name }}</span></p>
        <p class="profile-info"><strong>Date Joined:</strong> <span class="break-word">{{ user.date_joined|date:"F j, Y" }}</span></p>
        {% if user.profile.location %}
            <p class="profile-info"><strong>Location:</strong> <span class="break-word">{{ user.profile.location }}</span></p>
        {% endif %}
        {% if user.profile.role %}
            <p class="profile-info"><strong>Role:</strong> <span class="break-word">{{ user.profile.role }}</span></p>
        {% endif %}
    </div>
    <form method="post" class="profile-form-container">
        {% csrf_token %}
        <h2 class="profile-form-title">Edit Profile</h2>
        {% if form.non_field_errors %}
            <div class="profile-error-message">{{ form.non_field_errors }}</div>
        {% endif %}
        {% for field in form %}
            <div class="profile-form-group">
                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                {{ field }}
                {% if field.errors %}
                    <div class="profile-error-message">{{ field.errors }}</div>
                {% endif %}
            </div>
        {% endfor %}
        <button type="submit" class="profile-btn">Save Changes</button>
    </form>
</div>
<style>
    .profile-main-content.energy-matte {
        max-width: 700px;
        margin: 0 auto;
        padding: 36px 6vw 28px 6vw;
        background: linear-gradient(120deg, #e7f8ec 60%, #d2f7fa 100%), #f7faf7ee;
        border-radius: 18px;
        box-shadow: 0 6px 32px 0 rgba(18,60,32,0.09);
        border: 1.5px solid #e6f5e6;
        backdrop-filter: blur(2.5px);
        -webkit-backdrop-filter: blur(2.5px);
        transition: box-shadow 0.3s, background 0.3s;
        width: 100%;
        min-width: 0;
        word-break: break-word;
    }
    .profile-title {
        font-size: 2rem;
        margin-bottom: 0.5rem;
        color: #176a32;
        letter-spacing: 0.5px;
    }
    .profile-subtitle {
        font-size: 1.17rem;
        color: #389658;
        margin-bottom: 1.2rem;
    }
    .profile-user-data { margin-bottom: 1.5rem; }
    .profile-info {
        font-size: 1.08rem;
        margin-bottom: 0.2rem;
        color: #18422b;
        background: rgba(190,255,198,0.09);
        border-radius: 4px;
        padding: 3px 12px;
        word-break: break-word;
        width: 100%;
        /* Allow long words such as emails to wrap instead of scrolling */
        overflow-wrap: break-word;
        white-space: normal;
        box-sizing: border-box;
    }
    .profile-info .break-word { word-break: break-word; }
    .profile-form-title {
        margin-top: 2rem;
        margin-bottom: 0.8rem;
        font-size: 1.13rem;
        font-weight: 600;
        color: #227a47;
        letter-spacing: 0.1px;
    }
    .profile-form-group {
        margin-bottom: 15px;
        display: flex;
        flex-direction: column;
        gap: 2px;
        width: 100%;
    }
    .profile-form-group label {
        font-weight: 500;
        margin-bottom: 2px;
        color: #217341;
    }
    .profile-form-group input,
    .profile-form-group select,
    .profile-form-group textarea {
        padding: 8px 7px;
        border-radius: 5px;
        border: 1px solid #8FBC8B;
        font-size: 1rem;
        background: #f4fbf4;
        transition: border-color 0.2s, background 0.2s;
        width: 100%;
        min-width: 0;
        box-sizing: border-box;
        overflow-wrap: break-word;
        white-space: normal;
    }
    .profile-form-group input:focus,
    .profile-form-group select:focus,
    .profile-form-group textarea:focus {
        border-color: #42e36b;
        outline: none;
        background: #e2fce7;
    }
    .profile-error-message {
        color: #b31e1e;
        font-size: 0.92em;
        margin-top: 4px;
        background: #fff7f7;
        border-left: 3px solid #e36e42;
        border-radius: 3px;
        padding-left: 6px;
        word-break: break-word;
        overflow-wrap: break-word;
        white-space: normal;
    }
    .profile-btn {
        background: linear-gradient(90deg, #176a32 60%, #42e36b 100%);
        color: white;
        padding: 11px 0;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1.08rem;
        font-weight: 600;
        margin-top: 8px;
        transition: background 0.3s;
        width: 100%;
        box-shadow: 0 1px 6px 0 rgba(18,60,32,0.11);
    }
    .profile-btn:hover {
        background: linear-gradient(90deg, #42e36b 60%, #176a32 100%);
    }
    @media (max-width: 900px) {
        .profile-main-content.energy-matte { padding: 18px 3vw 14px 3vw; }
    }
    @media (max-width: 700px) {
        .profile-main-content.energy-matte { padding: 10px 2vw; max-width: 99vw; }
    }
</style>
{% endblock %}